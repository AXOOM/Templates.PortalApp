feed_uri: http://assets.axoom.cloud/apps/myvendor-myapp.xml
name: My App
summary: my description
homepage: https://tfs.inside-axoom.org/tfs/axoom/axoom/_git/MyVendor.MyApp?_a=readme&fullScreen=true

exported_environment:
  API_RESOURCES: <API_RESOURCES>

external_environment:
  optional:
    - MYVENDOR_MYAPP_IDENTITY_CLIENT_SECRET

mixins:
  - feed_uri: http://assets.axoom.cloud/mixins/axoom-portal-app.xml
    parameters:
      APPKEY: myvendor-myapp
      DOCKER_REGISTRY: <DOCKER_REGISTRY>
      VERSION: <VERSION>
      PORTAL_APP: <PORTAL_APP>
      IDENTITY_CLIENT: <IDENTITY_CLIENT>

compose:
  - version: '3.3'
    services:
      myvendor-myapp:
        environment:
          IDENTITY__CLIENT_SECRET: ${MYVENDOR_MYAPP_IDENTITY_CLIENT_SECRET:-myvendor-myapp-identity-client-secret}
          IDENTITY__API_SECRET: ${MYVENDOR_MYAPP_IDENTITY_API_SECRET:-myvendor-myapp-identity-api-secret}
